webpackJsonp([1],{10:function(e,a,t){t(101);var o=t(6)(t(59),t(143),null,null);e.exports=o.exports},100:function(e,a,t){a=e.exports=t(15)(),a.push([e.i,"#box[data-v-a1794560]{position:fixed;top:0;width:100vw;height:16vh;background:translate;padding:2vh}section[data-v-a1794560]{width:60vw;min-height:80%;margin:auto;padding:1.5vh;text-align:left;border:2px solid #fff;text-indent:48px;font-size:24px;color:#fff;overflow:auto}section>div[data-v-a1794560]{word-break:break-all}","",{version:3,sources:["C:/Users/Administrator/Desktop/slime_fight/src/plugin/kaiwa.vue"],names:[],mappings:"AACA,sBACC,eAAgB,AAChB,MAAO,AACP,YAAa,AACb,YAAa,AACb,qBAAsB,AACtB,WAAa,CACb,AACD,yBACC,WAAY,AACZ,eAAgB,AAChB,YAAa,AACb,cAAe,AACf,gBAAiB,AACjB,sBAAwB,AACxB,iBAAkB,AAClB,eAAgB,AAChB,WAAa,AACb,aAAe,CACf,AACD,6BACC,oBAAsB,CACtB",file:"kaiwa.vue",sourcesContent:["\n#box[data-v-a1794560] {\n\tposition: fixed;\n\ttop: 0;\n\twidth: 100vw;\n\theight: 16vh;\n\tbackground: translate;\n\tpadding: 2vh;\n}\nsection[data-v-a1794560] {\n\twidth: 60vw;\n\tmin-height: 80%;\n\tmargin: auto;\n\tpadding: 1.5vh;\n\ttext-align: left;\n\tborder: 2px solid white;\n\ttext-indent: 48px;\n\tfont-size: 24px;\n\tcolor: white;\n\toverflow: auto;\n}\nsection>div[data-v-a1794560] {\n\tword-break: break-all;\n}\n\n"],sourceRoot:""}])},101:function(e,a,t){var o=t(97);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);t(16)("3410bd88",o,!0)},104:function(e,a,t){var o=t(100);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);t(16)("40196dde",o,!0)},105:function(e,a,t){e.exports=t.p+"static/img/floor1.a6d4227.jpg"},106:function(e,a,t){e.exports=t.p+"static/img/plywood.c9589cb.jpg"},107:function(e,a,t){e.exports=t.p+"static/img/wall.2d84e5b.png"},142:function(e,a,t){t(104);var o=t(6)(t(61),t(146),"data-v-a1794560",null);e.exports=o.exports},143:function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("transition",{attrs:{name:"fade"}},[t("kaiwa",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.kaiwa_show,expression:"$store.state.kaiwa_show"}]})],1),e._v(" "),t("canvas",{attrs:{tabindex:"0",id:"canvas"}})],1)},staticRenderFns:[]}},146:function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"box"}},[t("section",[t("div",[e._v(e._s(e.$store.state.text))])])])},staticRenderFns:[]}},47:function(e,a,t){"use strict";var o=t(5),n=t(0),i=o.default.$store.state,s={yuusya:{},dom:{},event:[],clock:{},move_speed:.4,left:!1,right:!1,forward:!1,back:!1,move:!1,jump:!1,jump_height:0,jump_enable:!0,angelX:0,angelY:0,mouse_vector:new THREE.Vector3(0,0,0),rotate_speed:.005,init:function(){var e=this;e.yuusya=i.mesh[0],e.dom=document.getElementById("canvas"),e.clock=new THREE.Clock,e.clock.start(),s.keyboard(),s.mouse(),i.scene.addEventListener("update",s.action)},action:function(){var e=s;if(e.yuusya.__dirtyPosition=!0,e.yuusya.__dirtyRotation=!0,e.move){var a=new THREE.Vector3(0,0,0);e.forward&&(Math.abs(e.yuusya.rotation.z)>2.4?a.add(new THREE.Vector3(-Math.sin(Math.PI-e.yuusya.rotation.y)*e.move_speed,0,-Math.cos(Math.PI-e.yuusya.rotation.y)*e.move_speed)):a.add(new THREE.Vector3(-Math.sin(e.yuusya.rotation.y)*e.move_speed,0,-Math.cos(e.yuusya.rotation.y)*e.move_speed))),e.left&&(Math.abs(e.yuusya.rotation.z)>2.4?a.sub(new THREE.Vector3(-Math.sin(-e.yuusya.rotation.y+Math.PI/2)*e.move_speed,0,-Math.cos(-e.yuusya.rotation.y+Math.PI/2)*e.move_speed)):a.add(new THREE.Vector3(-Math.sin(e.yuusya.rotation.y+Math.PI/2)*e.move_speed,0,-Math.cos(e.yuusya.rotation.y+Math.PI/2)*e.move_speed))),e.right&&(Math.abs(e.yuusya.rotation.z)>2.4?a.sub(new THREE.Vector3(-Math.sin(-e.yuusya.rotation.y+Math.PI/2*3)*e.move_speed,0,-Math.cos(-e.yuusya.rotation.y+Math.PI/2*3)*e.move_speed)):a.add(new THREE.Vector3(-Math.sin(e.yuusya.rotation.y-Math.PI/2)*e.move_speed,0,-Math.cos(e.yuusya.rotation.y-Math.PI/2)*e.move_speed))),e.back&&(Math.abs(e.yuusya.rotation.z)>2.4?a.add(new THREE.Vector3(Math.sin(Math.PI-e.yuusya.rotation.y)*e.move_speed,0,Math.cos(Math.PI-e.yuusya.rotation.y)*e.move_speed)):a.add(new THREE.Vector3(Math.sin(e.yuusya.rotation.y)*e.move_speed,0,Math.cos(e.yuusya.rotation.y)*e.move_speed))),e.yuusya.position.add(a)}if(e.mouse_vector.x>.9?e.yuusya.rotateOnAxis(new THREE.Vector3(0,-1,0),6*e.rotate_speed):e.mouse_vector.x<-.9&&e.yuusya.rotateOnAxis(new THREE.Vector3(0,1,0),6*e.rotate_speed),e.mouse_vector.y>.9&&i.camera.rotation.x<Math.PI/4?i.camera.rotateOnAxis(new THREE.Vector3(1,0,0),6*e.rotate_speed):e.mouse_vector.y<-.9&&i.camera.rotation.x>-Math.PI/6&&i.camera.rotateOnAxis(new THREE.Vector3(-1,0,0),6*e.rotate_speed),e.jump&&(e.jump_height+=.1,e.jump_height<3?e.yuusya.position.y+=.15:e.jump_height>6.5&&(e.jump=!1,e.jump_enable=!0,e.jump_height=0)),!i.kaiwa_show&&e.yuusya.position.z>700&&e.yuusya.position.z<750&&e.yuusya.position.x<400&&e.yuusya.position.x>350&&0==i.death&&!i.win&&""!=n.a[0].a1[n.a[0].a1.length-1]&&i.kaiwa(0,"a1",100),!i.kaiwa_show&&e.yuusya.position.z>550&&e.yuusya.position.z<600&&e.yuusya.position.x<400&&e.yuusya.position.x>350&&0==i.death&&!i.win&&""!=n.a[0].a2[n.a[0].a2.length-1]&&i.kaiwa(0,"a2",100),!i.kaiwa_show&&e.yuusya.position.z<250&&e.yuusya.position.x<400&&e.yuusya.position.x>350&&!i.win){switch(i.death){case 0:""!=n.a[1].a1[n.a[1].a1.length-1]&&i.kaiwa(1,"a1",300);break;case 1:""!=n.a[1].a2[n.a[1].a2.length-1]&&i.kaiwa(1,"a2",300);break;case 2:case 3:case 4:""!=n.a[1].a3[n.a[1].a3.length-1]&&i.kaiwa(1,"a3",300);break;case 5:""!=n.a[1].a4[n.a[1].a4.length-1]?i.kaiwa(1,"a4",100):""!=n.a[1].a5[n.a[1].a5.length-1]&&i.kaiwa(1,"a5",300)}e.yuusya.position.z<230&&(e.move=!1,e.forward=!1,e.left=!1,e.right=!1,e.back=!1,o.default.$router.push("/game_fight"))}if(!i.kaiwa_show&&e.yuusya.position.z>700&&e.yuusya.position.z<750&&e.yuusya.position.x<400&&e.yuusya.position.x>350&&!i.win)switch(i.death){case 1:""!=n.a[2].a1[n.a[2].a1.length-1]&&i.kaiwa(2,"a1",100);break;case 2:""!=n.a[2].a2[n.a[2].a2.length-1]&&i.kaiwa(2,"a2",100);break;case 3:case 4:""!=n.a[2].a3[n.a[2].a3.length-1]&&i.kaiwa(2,"a3",100);break;case 5:""!=n.a[2].a4[n.a[2].a4.length-1]&&i.kaiwa(2,"a4",100)}!i.kaiwa_show&&i.death<1&&!i.win&&e.clock.getElapsedTime()>300&&(""!=n.a[3].a1[n.a[3].a1.length-1]?i.kaiwa(3,"a1",100):""==n.a[3].a1[n.a[3].a1.length-1]?(i.lost=!0,o.default.$router.push("/")):e.clock.getElapsedTime()>180&&(""!=n.a[3].a2[n.a[3].a2.length-1]?i.kaiwa(3,"a2",100):e.clock.getElapsedTime()>120&&""!=n.a[3].a3[n.a[3].a3.length-1]&&i.kaiwa(3,"a3",100))),i.win&&!i.kaiwa_show&&(""!=n.a[4].a1[n.a[4].a1.length-1]?i.kaiwa(4,"a1",300):""!=n.a[4].a2[n.a[4].a2.length-1]?i.kaiwa(4,"a2",100):""!=n.a[4].a3[n.a[4].a3.length-1]?i.kaiwa(4,"a3",300):""!=n.a[4].a4[n.a[4].a4.length-1]?i.kaiwa(4,"a4",100):""!=n.a[4].a5[n.a[4].a5.length-1]?i.kaiwa(4,"a5",200):o.default.$router.push("/")),2!=i.mercy||i.kaiwa_show||(""!=n.a[5].a1[n.a[5].a1.length-1]?i.kaiwa(5,"a1",280):""!=n.a[5].a2[n.a[5].a2.length-1]&&(i.kaiwa(5,"a2",200),o.default.$router.push("/")))},keyboard:function(){var e=this;e.event[0]=function(a){switch(a.keyCode){case 65:e.left=!0;break;case 87:e.forward=!0;break;case 68:e.right=!0;break;case 83:e.back=!0;break;case 32:e.jump_enable&&(e.jump=!0,e.jump_enable=!1)}(e.left||e.forward||e.right||e.back)&&(e.move=!0)},e.dom.addEventListener("keydown",e.event[0]),e.event[1]=function(a){switch(a.keyCode){case 65:e.left=!1;break;case 87:e.forward=!1;break;case 68:e.right=!1;break;case 83:e.back=!1}e.left||e.forward||e.right||e.back||(e.move=!1)},e.dom.addEventListener("keyup",e.event[1])},mouse:function(){var e=this;e.dom.addEventListener("mousemove",function(a){e.yuusya.__dirtyPosition=!0,e.yuusya.__dirtyRotation=!0;var t=new THREE.Vector3(a.clientX/e.dom.clientWidth*2-1,-(a.clientY/e.dom.clientHeight*2-1),0);t.x>e.mouse_vector.x&&Math.abs(t.x)<=.9?e.yuusya.rotateOnAxis(new THREE.Vector3(0,-1,0),e.rotate_speed):t.x<e.mouse_vector.x&&Math.abs(t.x)<=.9&&e.yuusya.rotateOnAxis(new THREE.Vector3(0,1,0),e.rotate_speed),t.y>e.mouse_vector.y&&i.camera.rotation.x<Math.PI/4?i.camera.rotateOnAxis(new THREE.Vector3(1,0,0),e.rotate_speed):t.y<e.mouse_vector.y&&i.camera.rotation.x>-Math.PI/6&&i.camera.rotateOnAxis(new THREE.Vector3(-1,0,0),e.rotate_speed),e.mouse_vector=t})}};a.a=s},59:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=t(142),n=t.n(o),i=t(62),s=t(47);a.default={name:"game",data:function(){return{}},components:{kaiwa:n.a},mounted:function(){i.a.init()},beforeRouteLeave:function(e,a,t){this.$store.state.scene.removeEventListener("update",s.a.action),t()},beforeRouteEnter:function(e,a,t){t(function(t){"/game"==e.path&&"/game_fight"==a.path&&(t.$store.state.death&&(t.$store.state.mesh[0].__dirtyPosition=!0,t.$store.state.mesh[0].__dirtyRotation=!0,t.$store.state.mesh[0].position.z=750,s.a.move_speed+=.1),t.$store.state.scene.addEventListener("update",s.a.action)),document.getElementById("canvas").focus()})}}},61:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={data:function(){return{}},methods:{}}},62:function(e,a,t){"use strict";var o=t(5),n=t(63),i=t(64),s=t(47),r=o.default.$store.state,d={yuusya:{},init:function(){i.a.init(),n.a.init(),s.a.init();var e=this;e.yuusya=r.mesh[0],r.scene.setGravity(new THREE.Vector3(0,-30,0)),r.renderer=new THREE.WebGLRenderer({canvas:document.getElementById("canvas")}),r.renderer.setSize(window.innerWidth,window.innerHeight),r.renderer.shadowMap.enabled=!0,r.renderer.shadowMap.type=THREE.PCFSoftShadowMap;for(var a=0;a<r.light.length;a++)r.scene.add(r.light[a]);for(var t=0;t<r.mesh.length;t++)r.scene.add(r.mesh[t]);r.camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,1e3),r.camera.position.add(new THREE.Vector3(0,5,10)),e.yuusya.add(r.camera),d.animate()},onWindowResize:function(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)},animate:function(){r.scene.simulate(),r.renderer.render(r.scene,r.camera),requestAnimationFrame(d.animate)}};a.a=d},63:function(e,a,t){"use strict";var o=t(5),n=o.default.$store.state,i={init:function(){var e=new THREE.SpotLight(16777215);e.castShadow=!0,e.shadow.camera.left=-160,e.shadow.camera.top=-160,e.shadow.camera.right=160,e.shadow.camera.bottom=160,e.shadow.mapSize.width=e.shadow.mapSize.height=1024,e.angle=Math.PI/6,e.target=n.mesh[0],n.light[0]=new THREE.AmbientLight(6710886)}};a.a=i},64:function(e,a,t){"use strict";var o=t(5),n=o.default.$store.state,i={wall_material:{},init:function(){this.wall_material_get(),this.yuusya(),this.slime(),this.maze()},wall_material_get:function(){var e=new THREE.TextureLoader,a=t(107),o=this;o.wall_material=new Physijs.createMaterial(new THREE.MeshLambertMaterial({map:e.load(a),side:THREE.DoubleSide}),.4,.8),o.wall_material.map.wrapS=o.wall_material.map.wrapT=THREE.RepeatWrapping,o.wall_material.map.repeat.set(2,2)},yuusya:function(){var e=new THREE.MeshNormalMaterial;e.visible=!1;var a=new Physijs.BoxMesh(new THREE.BoxGeometry(4,4,4),e);a.castShadow=!0,a.position.set(375,4,780);var t=new THREE.MTLLoader;t.setPath("static/"),t.load("Gohan.mtl",function(e){e.preload();var t=new THREE.OBJLoader;t.setMaterials(e),t.load("static/Gohan.obj",function(e){e.scale.set(.2,.2,.2),e.rotation.y=Math.PI,e.position.y=-2,e.traverse(function(t){t instanceof THREE.Mesh&&a.add(e)})})}),n.mesh.push(a)},slime:function(){var e=new THREE.MeshNormalMaterial,a=new Physijs.BoxMesh(new THREE.BoxGeometry(40,100,50),e,0);a.castShadow=!0,a.position.set(375,4,125),n.mesh.push(a)},wall:function(e,a){var t=new Physijs.BoxMesh(new THREE.BoxGeometry(500,10,a),i.wall_material,0);return t.receiveShadow=!0,t.castShadow=!0,e?t.rotation.z=Math.PI/2:t.rotation.set(0,Math.PI/2,Math.PI/2),t.position.y=250,n.mesh.push(t),t},maze:function(){var e=new THREE.TextureLoader,a=t(105),o=this,s=new Physijs.createMaterial(new THREE.MeshLambertMaterial({map:e.load(a),side:THREE.DoubleSide}),.4,.8);s.map.wrapS=s.map.wrapT=THREE.RepeatWrapping,s.map.repeat.set(12,12);var o=this,r=new Physijs.BoxMesh(new THREE.BoxGeometry(1e3,1,1e3),s,0);r.receiveShadow=!0,r.position.set(500,0,500),n.mesh.push(r);var d=new Physijs.BoxMesh(new THREE.BoxGeometry(1e3,1,1e3),i.wall_material,0);d.receiveShadow=!0,d.position.set(500,250,500),n.mesh.push(d),new o.wall(0,50).position.add(new THREE.Vector3(375,0,800)),new o.wall(1,200).position.add(new THREE.Vector3(350,0,700)),new o.wall(1,200).position.add(new THREE.Vector3(400,0,700)),new o.wall(0,150).position.add(new THREE.Vector3(275,0,600)),new o.wall(0,150).position.add(new THREE.Vector3(475,0,600)),new o.wall(1,600).position.add(new THREE.Vector3(550,0,300)),new o.wall(0,100).position.add(new THREE.Vector3(150,0,450)),new o.wall(1,150).position.add(new THREE.Vector3(200,0,525)),new o.wall(0,100).position.add(new THREE.Vector3(300,0,550)),new o.wall(1,100).position.add(new THREE.Vector3(350,0,500)),new o.wall(0,100).position.add(new THREE.Vector3(300,0,450)),new o.wall(1,100).position.add(new THREE.Vector3(250,0,500)),new o.wall(0,100).position.add(new THREE.Vector3(450,0,550)),new o.wall(1,100).position.add(new THREE.Vector3(500,0,500)),new o.wall(0,100).position.add(new THREE.Vector3(450,0,450)),new o.wall(1,100).position.add(new THREE.Vector3(400,0,500)),new o.wall(1,150).position.add(new THREE.Vector3(100,0,375)),new o.wall(1,100).position.add(new THREE.Vector3(150,0,350)),new o.wall(1,100).position.add(new THREE.Vector3(500,0,350)),new o.wall(0,350).position.add(new THREE.Vector3(325,0,400)),new o.wall(0,350).position.add(new THREE.Vector3(325,0,300)),new o.wall(0,100).position.add(new THREE.Vector3(50,0,300)),new o.wall(0,300).position.add(new THREE.Vector3(200,0,250)),new o.wall(0,100).position.add(new THREE.Vector3(450,0,250)),new o.wall(0,100).position.add(new THREE.Vector3(375,0,100)),new o.wall(0,250).position.add(new THREE.Vector3(175,0,50)),new o.wall(0,50).position.add(new THREE.Vector3(475,0,50)),new o.wall(1,300).position.add(new THREE.Vector3(0,0,150)),new o.wall(1,200).position.add(new THREE.Vector3(50,0,150)),new o.wall(1,150).position.add(new THREE.Vector3(350,0,175)),new o.wall(1,150).position.add(new THREE.Vector3(400,0,175)),new o.wall(1,200).position.add(new THREE.Vector3(500,0,150)),new o.wall(1,50).position.add(new THREE.Vector3(300,0,25)),new o.wall(1,50).position.add(new THREE.Vector3(450,0,25)),new o.wall(0,300).position.add(new THREE.Vector3(150,0,0)),new o.wall(0,100).position.add(new THREE.Vector3(500,0,0))},get_box:function(){var e=new THREE.TextureLoader,a=t(106),o=Physijs.createMaterial(new THREE.MeshLambertMaterial({map:e.load(a),side:THREE.DoubleSide}),.4,.1);o.map.wrapS=o.map.wrapT=THREE.RepeatWrapping,o.map.repeat.set(.25,.25);var i=new THREE.BoxGeometry(10,10,10);i.vertices[0].x=-5,i.vertices[1].x=-5;var s=new Physijs.ConvexMesh(i,o);s.position.y=80,s.position.x=0,s.castShadow=!0,s.receiveShadow=!0,n.mesh.push(s)},crystal:function(){var e=new THREE.Shape;e.moveTo(0,.8),e.lineTo(.4,.5),e.lineTo(.3,0),e.lineTo(-.3,0),e.lineTo(-.4,.5),e.lineTo(0,.8);for(var a=0;a<1;a++){var t={amount:200*Math.random(),bevelEnabled:!0,bevelSegments:1,steps:1,bevelSize:10*Math.random()+10,bevelThickness:10*Math.random()+25};!function(e,a,t,o,i,s,r,d,w,c){for(var u=new THREE.ExtrudeGeometry(e,a),l=0,h=u.vertices.length;l<h;l++)u.vertices[l].x*=.2,u.vertices[l].y*=.2,u.vertices[l].z*=.2;var p=new THREE.MeshNormalMaterial,E=new Physijs.ConvexMesh(u,p);E.position.set(o,i,s),E.rotation.set(r,d,w),E.position.y=20,E.castShadow=!0,n.mesh.push(E)}(e,t,0,0,0,0,2*Math.random()*Math.PI,2*Math.random()*Math.PI,2*Math.random()*Math.PI)}},test:function(){for(var e=Physijs.createMaterial(new THREE.MeshLambertMaterial({}),.8,.4),a=new THREE.PlaneGeometry(75,75,50,50),t=0;t<a.vertices.length;t+=9){a.vertices[t].z=5*Math.random()}a.computeFaceNormals(),a.computeVertexNormals();var o=new Physijs.ConvexMesh(a,e,0);o.rotation.x=Math.PI/-2,o.scale.set(2,2,2),o.castShadowShadow=!0,o.receiveShadow=!0,o.position.y=30,n.mesh.push(o)}};a.a=i},97:function(e,a,t){a=e.exports=t(15)(),a.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"main.vue",sourceRoot:""}])}});
//# sourceMappingURL=1.3adf2db56a88c431d02c.js.map