---
title: 日常小技巧（六）
categories:
  - 尺工
date: 2018-11-14 19:58:53
---

<p></p>
<!-- more -->

### 类数组转为数组

```js
[...arguments] // Iterator
[...nodeList] // Iterator
const arrayLike={
  '0':0,
  '1':1,
  length:2
}
Array.from(arrayLike)
```

### #!/usr/bin/env node

`#!`出现在文本文件的第一行的前两个字符。 在文件中存在 Shebang 的情况下，类 Unix 操作系统的程序加载器会分析 Shebang 后的内容，将这些内容作为解释器指令，并调用该指令，并将载有 Shebang 的文件路径作为该解释器的参数

### npm link

在一个有规范的 package.json 文件目录下使用改命令后会创建一个全局状态的符号链接，即类似于全局安装了这个包
在其他目录下使用 `npm link thisPackage` 会在这里也创建一个包放在 node_modules 下
这个命令有点类似于 `npm install`
取消用 `npm unlink`

### packages 设置命令

在 package.json 中写上 bin 命令，链接到可执行文件，然后很重要很重要的一点是需要在可执行文件的第一行加上 `#!/usr/bin/env node`

格式有两种

```json
  "name": "execute",
  "bin": "index.js",
```

```json

  "bin": {
    "execute": "index.js"
  },
```

第一种默认命令名字是 name 名字，第二种是键值

### vue 跨域设置

好久没用都忘记了

```js
  proxyTable: {
    '/api': {
      target: 'https://target.cn',
      changeOrigin: true,
    }
  }
```

里面内置的是[http-proxy-middleware](https://github.com/chimurai/http-proxy-middleware)
新发现是，这种设置可以让手机连着用，贼 hi

### 学不动

一脱离舒适区就发现好多东西没听过没用过。学不动啊学不动

### async 异常

对于 async/await 的异常捕获可以写在 async 方法之后链式`.catch`，或者写在 await 语句之后，或者用 try catch 块

### env(safe-area-inset-top)

这个属性原本只会在 ios 中生效的，不知道为什么最近最新的安卓里也会生效，逻辑并不是之前的这条属性不识别，而是这个值会被当作是 0 来处理

### 选项赋值

```js
var a = ({
  pkg = {},
  plugins = [],
  completeCbs = [],
  files = {},
  invoking = false
} = {}) => {
  console.log(pkg)
}
```
