---
title: 日常小技巧（六）
categories:
  - 尺工
date: 2018-11-14 19:58:53
---

<p></p>
<!-- more -->

### packages 设置命令

在 package.json 中写上 bin 命令，链接到可执行文件，然后很重要很重要的一点是需要在可执行文件的第一行加上 `#!/usr/bin/env node`

格式有两种

```json
  "name": "execute",
  "bin": "index.js",
```

```json

  "bin": {
    "execute": "index.js"
  },
```

第一种默认命令名字是 name 名字，第二种是键值

### vue 跨域设置

好久没用都忘记了

```js
  proxyTable: {
    '/api': {
      target: 'https://target.cn',
      changeOrigin: true,
    }
  }
```

里面内置的是[http-proxy-middleware](https://github.com/chimurai/http-proxy-middleware)
新发现是，这种设置可以让手机连着用，贼 hi

### 学不动

一脱离舒适区就发现好多东西没听过没用过。学不动啊学不动

### async 异常

对于 async/await 的异常捕获可以写在 async 方法之后链式`.catch`，或者写在 await 语句之后，或者用 try catch 块

### env(safe-area-inset-top)

这个属性原本只会在 ios 中生效的，不知道为什么最近最新的安卓里也会生效，逻辑并不是之前的这条属性不识别，而是这个值会被当作是 0 来处理

### 选项赋值

```js
var a = ({
  pkg = {},
  plugins = [],
  completeCbs = [],
  files = {},
  invoking = false
} = {}) => {
  console.log(pkg)
}
```
