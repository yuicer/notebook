---
title: 日常小技巧(三)
categories:
  - 尺工
  - 杂乱
  - 叹言
date: 2018-01-24 10:12:01
---
<p></p>
<!-- more -->

## 6
mailto:yourmail.com
邮箱协议，在支持的页面会自动调起邮箱程序

## 5
object.create
这个感觉就是拿来做继承的
```
var son = function(name,value){
  father.call(this,name)
  this.value = value
}
son.prototype = Object.create(father.prototype)
son.prototype.constructor = son
```
create 创建的是拷贝，所以更改 son.prototype 不会更改 father 的 prototype

## 4
object.assign
对象的浅复制，方法用于将所有可枚举属性的值从一个或多个源对象复制到目标对象。它将返回目标对象。

## 3
jsonp 
看着挺厉害，其实就是个漏洞。
原理其实就是因为 js 的同源策略并没有对带有 src 标签的 dom 请求做限制，比如 img script 。所以就可以用 script 来取巧
```
<script>
  function say(param) {
    console.log('jsonp'，param)
  }
</script>
<script src="http://127.0.0.1:3000/"></script>
```
第二个脚本服务端直接拼接字符串返回 say('data')，就可以执行 say 输出了

## 2
javascript 垃圾回收
1. 分配内存
2. 内存读写
3. 内存回收
在第三部的时候，如何判断哪些是可以回收的是个难点，js 中内置有垃圾自动回收机制，主要有两种，引用技术和标记清除。
第一种是判断对象有没有被引用，第二种则是判断对象能不能被获得
但是第一种对于一个循环引用的无法判断，现在大多是用的第二种，具体方法是从根元素开始(全局对象)，向下寻找所有对象。然后删除不能获得的对象

## 1
事件委托（代理）
这个实际上就是通过事件机制（捕获，冒泡）来实现，比如一个场景，ul 下几个 li，与其给每个 li 加事件，也可以直接给 ul 加上事件，通过 target 来判断到底是哪个 li。