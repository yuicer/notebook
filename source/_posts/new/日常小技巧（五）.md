---
title: 日常小技巧（五）
categories:
  - 尺工
date: 2018-04-09 16:52:40
---
<p></p>
<!-- more -->

## ios bug
1. 全局设置对 `user-selected: *` 会使 input textarea 不能被选中，弹起输入框
2. fixed 在部分ios手机中，滑动对时候会消失，滑动停止后又出来。解决方法可以将 fixed 区域整个拿出来，不放在滚动区域内，或者设置如下。
```
.fixed{
  transform: translate3d(0,0,0);
}
.fixed * {
  transform: translate3d(0,0,0);
}
```
3. 滚动区域卡顿，设置`-webkit-overflow-scrolling: touch;`

4. ios 默认滑动可以弹出正常网页区域，出现空白。解决可以整个页面禁止滑动，让滚动条不出现，或者用三方库 iscroll 之类的



## vue 数据相应
之前使用 vue 的时候，对于非跟元素属性的改变不能自动更新这件事情没有什么好对处理方法，都是用对数组方法 push pop splice 这种会改变数组对方法来实现属性对跟新。然后使用这种方法解决大部分问题后就没有继续深入去了解。今天看到一个新对解决方法

vue 中其实提供了相应对解决方法 `vue.set vue.delete`，后者可能不常用，两者都是可以更新非 vue 实例和根元素下对属性。
```
  vue.set( target, key, value )
  {Object | Array} target
  {string | number} key
  {any} value
```

## vue-router 简便方法
当有很多组件对时候不需要一个一个去写了，但是不知道怎么去实现懒加载。
```
let Modules = require.context("@/components/", true, /\.vue$/)

let routesObj = [{
  path: '/',
  redirect: '/index',
}]

Modules.keys().forEach(function (v, i) {
  let key = v.replace(/(\.\/|\.vue)/g, '')
  routesObj.push({
    path: '/' + key,
    name: key,
    component: Modules(v)['default']
  })
})

export default new Router({
  routes: routesObj
})
```