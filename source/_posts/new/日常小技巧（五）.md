---
title: 日常小技巧（五）
categories:
  - 尺工
date: 2018-04-09 16:52:40
---
<p></p>
<!-- more -->

## vue 数据相应
之前使用 vue 的时候，对于非跟元素属性的改变不能自动更新这件事情没有什么好对处理方法，都是用对数组方法 push pop splice 这种会改变数组对方法来实现属性对跟新。然后使用这种方法解决大部分问题后就没有继续深入去了解。今天看到一个新对解决方法

vue 中其实提供了相应对解决方法 `vue.set vue.delete`，后者可能不常用，两者都是可以更新非 vue 实例和根元素下对属性。
```
  vue.set( target, key, value )
  {Object | Array} target
  {string | number} key
  {any} value
```

## vue-router 简便方法
当有很多组件对时候不需要一个一个去写了，但是不知道怎么去实现懒加载。
```
let Modules = require.context("@/components/", true, /\.vue$/)

let routesObj = [{
  path: '/',
  redirect: '/index',
}]

Modules.keys().forEach(function (v, i) {
  let key = v.replace(/(\.\/|\.vue)/g, '')
  routesObj.push({
    path: '/' + key,
    name: key,
    component: Modules(v)['default']
  })
})

export default new Router({
  routes: routesObj
})
```