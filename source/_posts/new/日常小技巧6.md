---
title: 日常小技巧6
categories:
  - 尺工
date: 2018-11-14 19:58:53
---

<p></p>
<!-- more -->

### stylus 配置
最近在 vue 中写 stylus 时格式话不太正确。需要配置一下设置
因为 vetur 中默认的 stylus 的默认 Formatter 是 stylus-supremacy 所以配置它就行了


```json
  "stylusSupremacy.insertColons": false, // 是否插入冒号（默认是true）
  "stylusSupremacy.insertSemicolons": false, // 是否插入分号
  "stylusSupremacy.insertBraces": false, // 是否插入大括号
  "stylusSupremacy.insertNewLineAroundImports": false, // import之后是否换行
  "stylusSupremacy.insertNewLineAroundBlocks": false // 两个选择器中是否换行
```

### react dom emmet
```json
"emmet.includeLanguages": {
  "javascript": "javascriptreact"
}
```


### 类数组转为数组

```js
[...arguments] // Iterator
[...nodeList] // Iterator
const arrayLike={
  '0':0,
  '1':1,
  length:2
}
Array.from(arrayLike)
```

### #!/usr/bin/env node

`#!`出现在文本文件的第一行的前两个字符。 在文件中存在 Shebang 的情况下，类 Unix 操作系统的程序加载器会分析 Shebang 后的内容，将这些内容作为解释器指令，并调用该指令，并将载有 Shebang 的文件路径作为该解释器的参数

### packages 设置命令

在 package.json 中写上 bin 命令，链接到可执行文件，然后很重要很重要的一点是需要在可执行文件的第一行加上 `#!/usr/bin/env node`

格式有两种

```json
  "name": "execute",
  "bin": "index.js",
```

```json

  "bin": {
    "execute": "index.js"
  },
```

第一种默认命令名字是 name 名字，第二种是键值，都注册了 execute 命令

### vue 跨域设置

好久没用都忘记了

```js
  proxyTable: {
    '/api': {
      target: 'https://target.cn',
      changeOrigin: true,
    }
  }
```

里面内置的是[http-proxy-middleware](https://github.com/chimurai/http-proxy-middleware)
新发现是，这种设置可以让手机连着用，贼 hi

### async 异常

对于 async/await 的异常捕获可以写在 async 方法之后链式`.catch`，或者写在 await 语句之后，或者用 try catch 块

### env(safe-area-inset-top)

这个属性原本只会在 ios 中生效的，不知道为什么最近最新的安卓里也会生效，逻辑并不是之前的这条属性不识别，而是这个值会被当作是 0 来处理

### 选项赋值

```js
var a = ({
  pkg = {},
  plugins = [],
  completeCbs = [],
  files = {},
  invoking = false
} = {}) => {
  console.log(pkg)
}
```

### crossorigin='anonymous'

跨域安全中是允许 script ，video，img 标签去跨域拉取数据的，但是处于一些额外的原因，比如在 canvas 中如果使用这种不在同域的图片，标准规范处于是不可以使用 toDataUrl() 等方法的，另外对于 script 脚本是获取不到错误信息的。所以有这么一个新属性可以改善上述说的这两个问题，而它的原理我理解就是将该资源标志为是属于跨域请求，并强制让服务端去处理这些请求，所以加上此字段之后，必须要服务端对这些请求做处理，负责会报跨域问题。成功加上之后，这些资源就会被浏览器认为是安全资源，所以开头说的两个问题就不存在了。

### shell

简单了解下，发现这个东西用的话还是挺方便的，就是不怎么了解命令和底层的一些概念。。都怪上学的时候不好好学 linux ，觉得反正自己用 windows 无所谓就。。。

echo 输出
var=123 echo \$var 对变量赋值引用，赋值等号两侧不能空格

emmmmm，太多了。。不写了

### 文件权限

| 4   | 2   | 1   |
| --- | --- | --- |
| r   | w   | z   |

### nsfw

not safe for work，emmmm

### nerd

nerd == otaku ?

### npx

emmm，就感觉是可以直接执行，省了一步操作。。然后没有安装的存储

```
// 1
$ npm i -D webpack
$ npx webpack ...

//2
$ npm rm webpack
$ npx webpack -- ...
$ cat package.json
...webpack not in "devDependencies"...

//3
$ npx github:piuccio/cowsay
...or...
$ npx git+ssh://my.hosted.git:cowsay.git#semver:^1
...etc...

//4
```
