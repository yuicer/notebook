m---
title: 活动页开发(三)
categories:
  - 尺工
comments: false
date: 2017-08-24 11:09:01
---
<p></p>
<!-- more -->
## 前言
这次做了个类似视频播放的单身狗页面，虽然很心痛，不过还是很有意思的。

## 详细
视频播放是先拍视频，然后把视频剪成帧图片，再拼接成长图。通过图片的定位来实现视频播放的效果。

```
<img id="current_frame" src="~assets/1.jpg" alt="" :style="{right:left_css,width:width_css}" @click.prevent>

play() {
			var me = this;
			me.left_css = me.index * 100 + '%';
			me.index++;
			if (me.index >= me.photos_count) {
				me.show = true;
				clearInterval(me.Interval)
			}
		},
```
width_css 写为1000%（有10张的话）
然后通过定位实现

### bug1
uc浏览器默认有个辣鸡看图模式，只要点击到图上就会进入看图模式，需要给 img 阻止 click 的默认事件。

### bug2
本来想加声音的，不过声音的支持性太差。
1. ios 无法设置 currentTime = 0，表现为只响一次
解决： 通过 new 多个 audio 设置 src 再 play();

2. 部分浏览器没有声音
没找到解决办法。。

