---
title: 日常小技巧(二)
categories:
  - 尺工
 
date: 2018-01-15 15:04:35
---
<p></p>
<!-- more -->

## 7
currentTarget : 冒泡或捕获触发的目标dom
target : 点击的dom
```
<div id="a">
    <div id="b">
      <div id="c">
        <div id="d"></div>
      </div>
    </div>
</div>

<script>
    document.getElementById('a').addEventListener('click', function(e) {
      console.log('target:' + e.target.id + '&currentTarget:' + e.currentTarget.id);
    });    
    document.getElementById('b').addEventListener('click', function(e) {
      console.log('target:' + e.target.id + '&currentTarget:' + e.currentTarget.id);
    });    
    document.getElementById('c').addEventListener('click', function(e) {
      console.log('target:' + e.target.id + '&currentTarget:' + e.currentTarget.id);
    });    
    document.getElementById('d').addEventListener('click', function(e) {
      console.log('target:' + e.target.id + '&currentTarget:' + e.currentTarget.id);
    });
</script>
```
冒泡 false 或者 默认
```
target:d&currentTarget:d
target:d&currentTarget:c
target:d&currentTarget:b
target:d&currentTarget:a
```
捕获
```
target:d&currentTarget:a
target:d&currentTarget:b
target:d&currentTarget:c
target:d&currentTarget:d
```
## 6
url 中 # 以后的部分不会发送给服务端

## 5
prototype
Object.prototype构造出Function.prototype，然后Function.prototype构造出Object和Function。

## 4
new 操作符
创建类的实例。它是__proto__属性设置为的空对象F.prototype。
初始化实例。该函数F被传递的参数调用并this设置为实例。
返回实例
```js
function New (f) { 

  /*1*/  
  var n = { '__proto__': f.prototype }; 
      
  return function () { 
    /*2*/    
    f.apply(n, arguments); 
    /*3*/    
    return n; 
  }; 
}
```

## 3
cookie
发送 http 请求时会自动在 header 上带上 cookie，当服务端设置 cookie 之后会自动在客户端写入 cookie
session 和 cookie 差不多，一个在本地一个在服务端，不过 session 也是通过 req header cookie 来进行查找判断找出对应状态从而实现有状态的
cookie 设置
```
maxAge: a number representing the milliseconds from Date.now() for expiry
signed: sign the cookie value
expires: a Date for cookie expiration
path: cookie path, /' by default
domain: cookie domain
secure: secure cookie
httpOnly: server-accessible cookie, true by default
overwrite: a boolean indicating whether to overwrite previously set cookies of the same name (false by default). If this is true, all cookies set during the same request with the same name (regardless of path or domain) are filtered out of the Set-Cookie header when setting this cookie.
```
## 2
npm 实在装不动的时候换淘宝源
npm install --registry=http://registry.npm.taobao.org

## 1
手机录像和录音不能同时开