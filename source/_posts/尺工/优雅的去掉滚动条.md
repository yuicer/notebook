---
title: 优雅的去掉滚动条
categories:
- 尺工
comments: false
date: 2016-12-26 11:42:30
---
<p></p>
<!-- more -->
## 问题
众所周知，滚动条这个东西丑，不同浏览器对滚动条的显示样式还不一样，如果是在浏览器边缘的还可以忍受，如果在页面内部出现滚动条就会让人感觉肯定是有bug，而且它还有一个问题，如果是自适应，那么滚动条出现和消失的时候会突然增加17px，造成页面抖动，布局乱掉，所以只想要滚动条的滚动功能避免掉这些问题该怎么办呢
## 前要
>visible	默认值。内容不会被修剪，会呈现在元素框之外。
hidden	内容会被修剪，并且其余内容是不可见的。
scroll	内容会被修剪，但是浏览器会显示滚动条以便查看其余的内容。
auto	如果内容被修剪，则浏览器会显示滚动条以便查看其余的内容。
inherit	规定应该从父元素继承 overflow 属性的值。
滚动条高度17px 测试 谷歌 百度 火狐 ie9+
滚动条出现时定宽高容器的实际宽或者高会自动减去滚动条的宽或者高进行改变

首先要知道滚动条的基本机制，为什么为有滚动条出现呢，我们假设有2个 div ，div2 在 div1 的内部，当 div1 的高度或者宽度超出 div2 的时候默认是显示超出的 div1 的，因为此时的 overflow 取值为默认值 visible ,设置 auto 之后滚动条就出来了。那么这里有一个让我很困惑的问题，浏览器的滚动条是怎么出来的呢？比方说我直接设置 body { height: 1200px }html { height: 1400px }就直接出现了滚动条，这里没有任何子元素超出父元素，但是依旧出现了滚动条，这个我是理解为浏览器的一种机制，它设置了body {overflow: auto} ，这个设置很浅，可以被 html 的 css 设置 overflow 给盖掉，这样当页面元素超出屏幕可以显示的范围的时候就会出现滚动提示。
`这个设想不严谨，需要再考虑`
## 思路
**第一个问题，让滚动条消失有2个思路**
>- 滚动条被外部元素隐藏
- 滚动条设置样式隐藏

**第二个问题，**
>- 让滚动条一直出现，不是啥好方法。。在这里不说了
- 给滚动条留出距离【这个距离根据滚动条有无进行变化来让页面不抖动】

## 问题1

### 方法1
```
body{
	overflow:hidden;
}
```
这个方法会直接让页面不能滚动，滚动条不出现
### 方法2
```
::-webkit-scrollbar {
	width: 0px;
}
```
这个方法让滚动条隐藏，可以滚动，但是只支持webkit浏览器，有兼容问题
### 方法3
```
#div0 {
	width: 480px;
	overflow: hidden;
	background: #333;
}

#div1 {
	overflow: auto;
	width: 500px;
	height: 500px;
	background: #666;
}

#div2 {
	height: 900px;
	background: #999;
}
```
div0 包括 div1 div2
这个方法让滚动条隐藏，可以滚动，但是如果是自适应的话，【滚动条根据情况出现】就会造成抖动

## 问题2
### 方法1
```
#div0 {
	width: 483px;
	overflow: hidden;
	background: #333;
}

#div1 {
	overflow: auto;
	width: 500px;
	height: 80px;
	background: #666;
	word-break: break-all;
}

#div2 {
	padding-right: calc(100% - 483px);
	background: #999;
}
```
这个方法让滚动条隐藏，可以滚动，有没有滚动条div2内的内容都纹丝不动，原理就是有滚动条的时候 div1 的宽度会自动改变，被 div2 的 100% 自动获取，就可以实现内容 padding-right 自适应，但是这个方法不适用浏览器的滚动条。
#### div2文本容器。内容区域只设置内容样式，同时有个自适应的右边距，
#### div1可滚动容器。设置宽高 overflow: auto 让区域可滚动，
#### div0多余部分隐藏容器，隐藏div1的滚动条，
### 方法2
```
html {
  overflow-y: scroll;
}

:root {
  overflow-y: auto;
  overflow-x: hidden;
}

:root body {
  position: absolute;
}

body {
  width: 100vw;
  overflow: hidden;
}
```
> 此方法来自张鑫旭大神的博客
这个方法我也不是很懂里面 root 设置的属性。。。不过核心就是 body 的 width: 100vw 固定body宽不受滚动条影响，不过这个会导致出现横向滚动条，所以还得加上 overflow-x: hidden 

